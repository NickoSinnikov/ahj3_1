(()=>{var e={766:e=>{e.exports='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <title>Document</title> </head> <body> <div class="cursor"></div> <h1>Поймай гоблина</h1> <ul class="counters"> <li class="count">Health: <span class="health">4</span> </li> <li class="count">Kill goblin:<span class="damaged">0</span></li> </ul> <div class="board"> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> <div class="cell"></div> </div> </body> </html>'}},t={};function l(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,l),a.exports}(()=>{"use strict";class e{constructor(){this.damaged=document.querySelector(".damaged"),this.health=document.querySelector(".health"),this.damagedCount=0,this.healthCount=4}increaseDamage(){this.damagedCount++,this.damaged.innerText=this.damagedCount}decreaseHealth(){this.healthCount-=1,this.health.innerText=this.healthCount}}class t{constructor(){this.counters=new e,this.cells=Array.from(document.querySelectorAll(".cell ")),this.interval=null}damage(e){e.target.classList.contains("active_cell")&&(this.counters.increaseDamage(),e.target.removeEventListener("click",this.damage),10===this.counters.damagedCount&&this.win(),document.querySelector(".active_cell").remove(),clearInterval(this.interval),this.punchGoblin())}punchGoblin(){document.querySelector(".active_cell")&&(document.querySelector(".active_cell").remove(),this.counters.decreaseHealth(),clearInterval(this.interval),console.log(this.counters.healthCount),0===this.counters.healthCount&&this.fail());let e=Math.floor(Math.random()*this.cells.length);for(;e===this.previousIndex;)e=Math.floor(Math.random()*this.cells.length);const t=this.cells[e];this.previousIndex=e;const l=document.createElement("div");l.classList.add("active_cell"),t.appendChild(l),l.addEventListener("click",this.damage.bind(this)),this.interval=setInterval(this.punchGoblin.bind(this),1e3)}win(){alert("You win!"),this.counters.damaged.innerText=0,this.counters.damagedCount=0,this.counters.health.innerText=0,this.counters.healthCount=4}fail(){alert("You lose!"),this.counters.damaged.innerText=0,this.counters.damagedCount=0,this.counters.health.innerText=0,this.counters.healthCount=4}}document.addEventListener("DOMContentLoaded",(()=>{const e=new t;e.punchGoblin.bind(e)()})),l(766)})()})();